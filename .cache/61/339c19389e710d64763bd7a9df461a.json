{"id":"GRqZ","dependencies":[{"name":"C:\\Users\\Umm Raheil\\Desktop\\frontend-topdeck-1207\\package.json","includedInParent":true,"mtime":1626931313517},{"name":"./App","loc":{"line":1,"column":16},"parent":"C:\\Users\\Umm Raheil\\Desktop\\frontend-topdeck-1207\\src\\PackageAPI.js","resolved":"C:\\Users\\Umm Raheil\\Desktop\\frontend-topdeck-1207\\src\\App.js"},{"name":"./Auth","loc":{"line":2,"column":17},"parent":"C:\\Users\\Umm Raheil\\Desktop\\frontend-topdeck-1207\\src\\PackageAPI.js","resolved":"C:\\Users\\Umm Raheil\\Desktop\\frontend-topdeck-1207\\src\\Auth.js"},{"name":"./Toast","loc":{"line":3,"column":18},"parent":"C:\\Users\\Umm Raheil\\Desktop\\frontend-topdeck-1207\\src\\PackageAPI.js","resolved":"C:\\Users\\Umm Raheil\\Desktop\\frontend-topdeck-1207\\src\\Toast.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=o(require(\"./App\")),a=o(require(\"./Auth\")),t=o(require(\"./Toast\"));function o(e){return e&&e.__esModule?e:{default:e}}class r{async newPackage(a){const t=await fetch(\"\".concat(e.default.apiBase,\"/package\"),{method:\"POST\",headers:{Authorization:\"Bearer \".concat(localStorage.accessToken)},body:a});if(!t.ok){let e=\"Problem adding package\";if(400==t.status){e=(await t.json()).message}throw new Error(e)}return await t.json()}async getPackages(){const a=await fetch(\"\".concat(e.default.apiBase,\"/package\"),{headers:{Authorization:\"Bearer \".concat(localStorage.accessToken)}});if(!a.ok){const e=await a.json();throw e&&console.log(e),new Error(\"Problem getting packages\")}return await a.json()}}var s=new r;exports.default=s;"},"sourceMaps":{"js":{"mappings":[{"source":"PackageAPI.js","original":{"line":59,"column":15},"generated":{"line":1,"column":0}},{"source":"PackageAPI.js","original":{"line":59,"column":15},"generated":{"line":1,"column":13}},{"source":"PackageAPI.js","original":{"line":59,"column":15},"generated":{"line":1,"column":20}},{"source":"PackageAPI.js","original":{"line":59,"column":15},"generated":{"line":1,"column":35}},{"source":"PackageAPI.js","original":{"line":59,"column":15},"generated":{"line":1,"column":43}},{"source":"PackageAPI.js","original":{"line":59,"column":15},"generated":{"line":1,"column":56}},{"source":"PackageAPI.js","original":{"line":59,"column":15},"generated":{"line":1,"column":57}},{"source":"PackageAPI.js","original":{"line":59,"column":15},"generated":{"line":1,"column":64}},{"source":"PackageAPI.js","original":{"line":59,"column":15},"generated":{"line":1,"column":68}},{"source":"PackageAPI.js","original":{"line":59,"column":15},"generated":{"line":1,"column":76}},{"source":"PackageAPI.js","original":{"line":59,"column":15},"generated":{"line":1,"column":89}},{"source":"PackageAPI.js","original":{"line":1,"column":0},"generated":{"line":1,"column":91}},{"source":"PackageAPI.js","original":{"line":1,"column":0},"generated":{"line":1,"column":95}},{"source":"PackageAPI.js","original":{"line":1,"column":0},"generated":{"line":1,"column":97}},{"source":"PackageAPI.js","original":{"line":1,"column":0},"generated":{"line":1,"column":99}},{"source":"PackageAPI.js","original":{"line":1,"column":0},"generated":{"line":1,"column":107}},{"source":"PackageAPI.js","original":{"line":2,"column":0},"generated":{"line":1,"column":117}},{"source":"PackageAPI.js","original":{"line":2,"column":0},"generated":{"line":1,"column":119}},{"source":"PackageAPI.js","original":{"line":2,"column":0},"generated":{"line":1,"column":121}},{"source":"PackageAPI.js","original":{"line":2,"column":0},"generated":{"line":1,"column":129}},{"source":"PackageAPI.js","original":{"line":3,"column":0},"generated":{"line":1,"column":140}},{"source":"PackageAPI.js","original":{"line":3,"column":0},"generated":{"line":1,"column":142}},{"source":"PackageAPI.js","original":{"line":3,"column":0},"generated":{"line":1,"column":144}},{"source":"PackageAPI.js","original":{"line":3,"column":0},"generated":{"line":1,"column":152}},{"source":"PackageAPI.js","original":{"line":59,"column":15},"generated":{"line":1,"column":164}},{"source":"PackageAPI.js","original":{"line":59,"column":15},"generated":{"line":1,"column":173}},{"source":"PackageAPI.js","original":{"line":59,"column":15},"generated":{"line":1,"column":175}},{"source":"PackageAPI.js","original":{"line":59,"column":15},"generated":{"line":1,"column":178}},{"source":"PackageAPI.js","original":{"line":59,"column":15},"generated":{"line":1,"column":185}},{"source":"PackageAPI.js","original":{"line":59,"column":15},"generated":{"line":1,"column":188}},{"source":"PackageAPI.js","original":{"line":59,"column":15},"generated":{"line":1,"column":190}},{"source":"PackageAPI.js","original":{"line":59,"column":15},"generated":{"line":1,"column":201}},{"source":"PackageAPI.js","original":{"line":59,"column":15},"generated":{"line":1,"column":203}},{"source":"PackageAPI.js","original":{"line":59,"column":15},"generated":{"line":1,"column":204}},{"source":"PackageAPI.js","original":{"line":59,"column":15},"generated":{"line":1,"column":212}},{"source":"PackageAPI.js","original":{"line":5,"column":0},"generated":{"line":1,"column":215}},{"source":"PackageAPI.js","name":"PackageAPI","original":{"line":5,"column":6},"generated":{"line":1,"column":221}},{"source":"PackageAPI.js","name":"newPackage","original":{"line":8,"column":8},"generated":{"line":1,"column":223}},{"source":"PackageAPI.js","name":"formData","original":{"line":8,"column":19},"generated":{"line":1,"column":240}},{"source":"PackageAPI.js","name":"response","original":{"line":10,"column":10},"generated":{"line":1,"column":243}},{"source":"PackageAPI.js","name":"response","original":{"line":10,"column":10},"generated":{"line":1,"column":249}},{"source":"PackageAPI.js","name":"fetch","original":{"line":10,"column":27},"generated":{"line":1,"column":257}},{"source":"PackageAPI.js","name":"App","original":{"line":10,"column":36},"generated":{"line":1,"column":263}},{"source":"PackageAPI.js","name":"App","original":{"line":10,"column":36},"generated":{"line":1,"column":266}},{"source":"PackageAPI.js","name":"App","original":{"line":10,"column":36},"generated":{"line":1,"column":273}},{"source":"PackageAPI.js","name":"apiBase","original":{"line":10,"column":40},"generated":{"line":1,"column":275}},{"source":"PackageAPI.js","name":"apiBase","original":{"line":10,"column":40},"generated":{"line":1,"column":283}},{"source":"PackageAPI.js","original":{"line":10,"column":59},"generated":{"line":1,"column":291}},{"source":"PackageAPI.js","original":{"line":10,"column":59},"generated":{"line":1,"column":303}},{"source":"PackageAPI.js","name":"method","original":{"line":11,"column":6},"generated":{"line":1,"column":304}},{"source":"PackageAPI.js","original":{"line":11,"column":14},"generated":{"line":1,"column":311}},{"source":"PackageAPI.js","name":"headers","original":{"line":12,"column":6},"generated":{"line":1,"column":318}},{"source":"PackageAPI.js","original":{"line":12,"column":15},"generated":{"line":1,"column":326}},{"source":"PackageAPI.js","name":"localStorage","original":{"line":12,"column":44},"generated":{"line":1,"column":327}},{"source":"PackageAPI.js","name":"localStorage","original":{"line":12,"column":44},"generated":{"line":1,"column":341}},{"source":"PackageAPI.js","name":"localStorage","original":{"line":12,"column":44},"generated":{"line":1,"column":351}},{"source":"PackageAPI.js","name":"localStorage","original":{"line":12,"column":44},"generated":{"line":1,"column":358}},{"source":"PackageAPI.js","name":"accessToken","original":{"line":12,"column":57},"generated":{"line":1,"column":371}},{"source":"PackageAPI.js","name":"body","original":{"line":13,"column":6},"generated":{"line":1,"column":385}},{"source":"PackageAPI.js","name":"formData","original":{"line":13,"column":12},"generated":{"line":1,"column":390}},{"source":"PackageAPI.js","original":{"line":17,"column":7},"generated":{"line":1,"column":394}},{"source":"PackageAPI.js","name":"response","original":{"line":17,"column":8},"generated":{"line":1,"column":398}},{"source":"PackageAPI.js","name":"ok","original":{"line":17,"column":17},"generated":{"line":1,"column":400}},{"source":"PackageAPI.js","original":{"line":17,"column":20},"generated":{"line":1,"column":403}},{"source":"PackageAPI.js","name":"message","original":{"line":18,"column":10},"generated":{"line":1,"column":404}},{"source":"PackageAPI.js","name":"message","original":{"line":18,"column":10},"generated":{"line":1,"column":408}},{"source":"PackageAPI.js","original":{"line":18,"column":20},"generated":{"line":1,"column":410}},{"source":"PackageAPI.js","name":"response","original":{"line":19,"column":9},"generated":{"line":1,"column":435}},{"source":"PackageAPI.js","original":{"line":19,"column":28},"generated":{"line":1,"column":438}},{"source":"PackageAPI.js","name":"response","original":{"line":19,"column":9},"generated":{"line":1,"column":443}},{"source":"PackageAPI.js","name":"status","original":{"line":19,"column":18},"generated":{"line":1,"column":445}},{"source":"PackageAPI.js","original":{"line":19,"column":32},"generated":{"line":1,"column":452}},{"source":"PackageAPI.js","name":"message","original":{"line":21,"column":8},"generated":{"line":1,"column":453}},{"source":"PackageAPI.js","name":"response","original":{"line":20,"column":26},"generated":{"line":1,"column":462}},{"source":"PackageAPI.js","name":"json","original":{"line":20,"column":35},"generated":{"line":1,"column":464}},{"source":"PackageAPI.js","name":"message","original":{"line":21,"column":22},"generated":{"line":1,"column":472}},{"source":"PackageAPI.js","original":{"line":24,"column":12},"generated":{"line":1,"column":480}},{"source":"PackageAPI.js","original":{"line":24,"column":12},"generated":{"line":1,"column":486}},{"source":"PackageAPI.js","name":"Error","original":{"line":24,"column":16},"generated":{"line":1,"column":490}},{"source":"PackageAPI.js","name":"message","original":{"line":24,"column":22},"generated":{"line":1,"column":496}},{"source":"PackageAPI.js","name":"data","original":{"line":31,"column":11},"generated":{"line":1,"column":499}},{"source":"PackageAPI.js","name":"response","original":{"line":28,"column":23},"generated":{"line":1,"column":512}},{"source":"PackageAPI.js","name":"json","original":{"line":28,"column":32},"generated":{"line":1,"column":514}},{"source":"PackageAPI.js","name":"getPackages","original":{"line":35,"column":8},"generated":{"line":1,"column":521}},{"source":"PackageAPI.js","name":"response","original":{"line":38,"column":10},"generated":{"line":1,"column":541}},{"source":"PackageAPI.js","name":"response","original":{"line":38,"column":10},"generated":{"line":1,"column":547}},{"source":"PackageAPI.js","name":"fetch","original":{"line":38,"column":27},"generated":{"line":1,"column":555}},{"source":"PackageAPI.js","name":"App","original":{"line":38,"column":36},"generated":{"line":1,"column":561}},{"source":"PackageAPI.js","name":"App","original":{"line":38,"column":36},"generated":{"line":1,"column":564}},{"source":"PackageAPI.js","name":"App","original":{"line":38,"column":36},"generated":{"line":1,"column":571}},{"source":"PackageAPI.js","name":"apiBase","original":{"line":38,"column":40},"generated":{"line":1,"column":573}},{"source":"PackageAPI.js","name":"apiBase","original":{"line":38,"column":40},"generated":{"line":1,"column":581}},{"source":"PackageAPI.js","original":{"line":38,"column":59},"generated":{"line":1,"column":589}},{"source":"PackageAPI.js","original":{"line":38,"column":59},"generated":{"line":1,"column":601}},{"source":"PackageAPI.js","name":"headers","original":{"line":39,"column":6},"generated":{"line":1,"column":602}},{"source":"PackageAPI.js","original":{"line":39,"column":15},"generated":{"line":1,"column":610}},{"source":"PackageAPI.js","name":"localStorage","original":{"line":39,"column":44},"generated":{"line":1,"column":611}},{"source":"PackageAPI.js","name":"localStorage","original":{"line":39,"column":44},"generated":{"line":1,"column":625}},{"source":"PackageAPI.js","name":"localStorage","original":{"line":39,"column":44},"generated":{"line":1,"column":635}},{"source":"PackageAPI.js","name":"localStorage","original":{"line":39,"column":44},"generated":{"line":1,"column":642}},{"source":"PackageAPI.js","name":"accessToken","original":{"line":39,"column":57},"generated":{"line":1,"column":655}},{"source":"PackageAPI.js","original":{"line":43,"column":7},"generated":{"line":1,"column":671}},{"source":"PackageAPI.js","name":"response","original":{"line":43,"column":8},"generated":{"line":1,"column":675}},{"source":"PackageAPI.js","name":"ok","original":{"line":43,"column":17},"generated":{"line":1,"column":677}},{"source":"PackageAPI.js","original":{"line":43,"column":20},"generated":{"line":1,"column":680}},{"source":"PackageAPI.js","name":"err","original":{"line":45,"column":12},"generated":{"line":1,"column":681}},{"source":"PackageAPI.js","name":"err","original":{"line":45,"column":12},"generated":{"line":1,"column":687}},{"source":"PackageAPI.js","name":"response","original":{"line":45,"column":24},"generated":{"line":1,"column":695}},{"source":"PackageAPI.js","name":"json","original":{"line":45,"column":33},"generated":{"line":1,"column":697}},{"source":"PackageAPI.js","original":{"line":48,"column":12},"generated":{"line":1,"column":704}},{"source":"PackageAPI.js","name":"err","original":{"line":46,"column":9},"generated":{"line":1,"column":710}},{"source":"PackageAPI.js","name":"console","original":{"line":46,"column":14},"generated":{"line":1,"column":713}},{"source":"PackageAPI.js","name":"log","original":{"line":46,"column":22},"generated":{"line":1,"column":721}},{"source":"PackageAPI.js","name":"err","original":{"line":46,"column":26},"generated":{"line":1,"column":725}},{"source":"PackageAPI.js","original":{"line":48,"column":12},"generated":{"line":1,"column":728}},{"source":"PackageAPI.js","name":"Error","original":{"line":48,"column":16},"generated":{"line":1,"column":732}},{"source":"PackageAPI.js","original":{"line":48,"column":22},"generated":{"line":1,"column":738}},{"source":"PackageAPI.js","name":"data","original":{"line":55,"column":11},"generated":{"line":1,"column":766}},{"source":"PackageAPI.js","name":"response","original":{"line":52,"column":23},"generated":{"line":1,"column":779}},{"source":"PackageAPI.js","name":"json","original":{"line":52,"column":32},"generated":{"line":1,"column":781}},{"source":"PackageAPI.js","original":{"line":59,"column":15},"generated":{"line":1,"column":789}},{"source":"PackageAPI.js","original":{"line":59,"column":15},"generated":{"line":1,"column":793}},{"source":"PackageAPI.js","original":{"line":59,"column":15},"generated":{"line":1,"column":795}},{"source":"PackageAPI.js","name":"PackageAPI","original":{"line":59,"column":19},"generated":{"line":1,"column":799}},{"source":"PackageAPI.js","original":{"line":59,"column":15},"generated":{"line":1,"column":801}},{"source":"PackageAPI.js","original":{"line":59,"column":15},"generated":{"line":1,"column":809}},{"source":"PackageAPI.js","original":{"line":59,"column":15},"generated":{"line":1,"column":817}}],"sources":{"PackageAPI.js":"import App from './App'\r\nimport Auth from './Auth'\r\nimport Toast from './Toast'\r\n\r\nclass PackageAPI {\r\n\r\n  //add new package ------------------------------\r\n  async newPackage(formData){\r\n    // send fetch request\r\n    const response = await fetch(`${App.apiBase}/package`, {\r\n      method: 'POST',\r\n      headers: { \"Authorization\": `Bearer ${localStorage.accessToken}`},\r\n      body: formData\r\n    })\r\n\r\n    // if response not ok\r\n    if(!response.ok){ \r\n      let message = 'Problem adding package'\r\n      if(response.status == 400){\r\n        const err = await response.json()\r\n        message = err.message\r\n      }      \r\n      // throw error (exit this function)      \r\n      throw new Error(message)\r\n    }\r\n    \r\n    // convert response payload into json - store as data\r\n    const data = await response.json()\r\n    \r\n    // return data\r\n    return data\r\n  }\r\n\r\n  //get package ------------------------------\r\n  async getPackages(){\r\n    \r\n    // fetch the json data\r\n    const response = await fetch(`${App.apiBase}/package`, {\r\n      headers: { \"Authorization\": `Bearer ${localStorage.accessToken}`}\r\n    })\r\n\r\n    // if response not ok\r\n    if(!response.ok){ \r\n      // console log error\r\n      const err = await response.json()\r\n      if(err) console.log(err)\r\n      // throw error (exit this function)      \r\n      throw new Error('Problem getting packages')\r\n    }\r\n    \r\n    // convert response payload into json - store as data\r\n    const data = await response.json()\r\n    \r\n    // return data\r\n    return data\r\n  }\r\n}\r\n\r\nexport default new PackageAPI()"},"lineCount":null}},"error":null,"hash":"97a21beed4f8366fe5383be7c8517a10","cacheData":{"env":{}}}