{"id":"H8gn","dependencies":[{"name":"C:\\Users\\Umm Raheil\\Desktop\\frontend-topdeck-1207\\package.json","includedInParent":true,"mtime":1626931313517},{"name":"./../../App","loc":{"line":1,"column":16},"parent":"C:\\Users\\Umm Raheil\\Desktop\\frontend-topdeck-1207\\src\\views\\pages\\editProfile.js","resolved":"C:\\Users\\Umm Raheil\\Desktop\\frontend-topdeck-1207\\src\\App.js"},{"name":"lit-html","loc":{"line":2,"column":28},"parent":"C:\\Users\\Umm Raheil\\Desktop\\frontend-topdeck-1207\\src\\views\\pages\\editProfile.js","resolved":"C:\\Users\\Umm Raheil\\Desktop\\frontend-topdeck-1207\\node_modules\\lit-html\\lit-html.js"},{"name":"./../../Router","loc":{"line":3,"column":37},"parent":"C:\\Users\\Umm Raheil\\Desktop\\frontend-topdeck-1207\\src\\views\\pages\\editProfile.js","resolved":"C:\\Users\\Umm Raheil\\Desktop\\frontend-topdeck-1207\\src\\Router.js"},{"name":"./../../Auth","loc":{"line":4,"column":17},"parent":"C:\\Users\\Umm Raheil\\Desktop\\frontend-topdeck-1207\\src\\views\\pages\\editProfile.js","resolved":"C:\\Users\\Umm Raheil\\Desktop\\frontend-topdeck-1207\\src\\Auth.js"},{"name":"./../../Utils","loc":{"line":5,"column":18},"parent":"C:\\Users\\Umm Raheil\\Desktop\\frontend-topdeck-1207\\src\\views\\pages\\editProfile.js","resolved":"C:\\Users\\Umm Raheil\\Desktop\\frontend-topdeck-1207\\src\\Utils.js"},{"name":"./../../UserAPI","loc":{"line":6,"column":20},"parent":"C:\\Users\\Umm Raheil\\Desktop\\frontend-topdeck-1207\\src\\views\\pages\\editProfile.js","resolved":"C:\\Users\\Umm Raheil\\Desktop\\frontend-topdeck-1207\\src\\UserAPI.js"},{"name":"../../Toast","loc":{"line":7,"column":18},"parent":"C:\\Users\\Umm Raheil\\Desktop\\frontend-topdeck-1207\\src\\views\\pages\\editProfile.js","resolved":"C:\\Users\\Umm Raheil\\Desktop\\frontend-topdeck-1207\\src\\Toast.js"},{"name":"moment","loc":{"line":8,"column":19},"parent":"C:\\Users\\Umm Raheil\\Desktop\\frontend-topdeck-1207\\src\\views\\pages\\editProfile.js","resolved":"C:\\Users\\Umm Raheil\\Desktop\\frontend-topdeck-1207\\node_modules\\moment\\moment.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e,t,r,a,s,i=c(require(\"./../../App\")),n=require(\"lit-html\"),l=require(\"./../../Router\"),u=c(require(\"./../../Auth\")),d=c(require(\"./../../Utils\")),o=c(require(\"./../../UserAPI\")),p=c(require(\"../../Toast\")),m=c(require(\"moment\"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}class h{init(){console.log(\"EditProfileView.init\"),document.title=\"Edit Profile\",this.user=null,this.render(),d.default.pageIntroAnim(),this.getUser()}async getUser(){try{this.user=await o.default.getUser(u.default.currentUser._id),this.render()}catch(e){p.default.show(e,\"error\")}}async updateProfileSubmitHandler(e){e.preventDefault();const t=e.detail.formData,r=document.querySelector(\".submit-btn\");r.setAttribute(\"loading\",\"\");try{const e=await o.default.updateUser(u.default.currentUser._id,t);delete e.password,this.user=e,u.default.currentUser=e,this.render(),p.default.show(\"profile updated\")}catch(a){p.default.show(a,\"error\")}r.removeAttribute(\"loading\")}render(){const l=(0,n.html)(e||(e=f([\"\\n      <td-app-header user=\",'></td-app-header>\\n      <div class=\"page-content\">        \\n        ',\"\\n      </div>\\n    \"])),JSON.stringify(u.default.currentUser),null==this.user?(0,n.html)(t||(t=f([\"\\n          <sl-spinner></sl-spinner>\\n        \"]))):(0,n.html)(r||(r=f([\"\\n          <p>Updated: \",'</p>\\n          <sl-form class=\"page-form\" @sl-submit=','>\\n            <div class=\"input-group\">\\n              <sl-input type=\"text\" name=\"firstName\" value=\"','\" placeholder=\"First Name\"></sl-input>\\n            </div>\\n            <div class=\"input-group\">\\n              <sl-input type=\"text\" name=\"lastName\" value=\"','\" placeholder=\"Last Name\"></sl-input>\\n            </div>\\n            <div class=\"input-group\">\\n              <sl-input type=\"text\" name=\"email\" value=\"','\" placeholder=\"Email Address\"></sl-input>\\n            </div> \\n            <div class=\"input-group\">\\n              <sl-textarea name=\"bio\" rows=\"4\" placeholder=\"Bio\" value=\"','\"></sl-textarea>\\n            </div> \\n\\n            <div class=\"input-group\">\\n              <label>Avatar</label><br>          \\n              ','\\n            </div>\\n            <sl-button type=\"primary\" class=\"submit-btn\" submit>Update Profile</sl-button>\\n          </sl-form>\\n        '])),(0,m.default)(u.default.currentUser.updatedAt).format(\"MMMM Do YYYY, @ h:mm a\"),this.updateProfileSubmitHandler.bind(this),this.user.firstName,this.user.lastName,this.user.email,this.user.bio,this.user.avatar?(0,n.html)(a||(a=f(['\\n                <sl-avatar image=\"',\"/images/\",'\"></sl-avatar>\\n                <input type=\"file\" name=\"avatar\" />\\n              '])),i.default.apiBase,this.user.avatar):(0,n.html)(s||(s=f(['\\n                <input type=\"file\" name=\"avatar\" />\\n              '])))));(0,n.render)(l,i.default.rootEl)}}var v=new h;exports.default=v;"},"sourceMaps":{"js":{"mappings":[{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":0}},{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":13}},{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":20}},{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":35}},{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":43}},{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":56}},{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":57}},{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":64}},{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":68}},{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":76}},{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":89}},{"source":"views/pages/editProfile.js","original":{"line":1,"column":0},"generated":{"line":1,"column":91}},{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":95}},{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":97}},{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":99}},{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":101}},{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":103}},{"source":"views/pages/editProfile.js","original":{"line":1,"column":0},"generated":{"line":1,"column":105}},{"source":"views/pages/editProfile.js","original":{"line":1,"column":0},"generated":{"line":1,"column":107}},{"source":"views/pages/editProfile.js","original":{"line":1,"column":0},"generated":{"line":1,"column":109}},{"source":"views/pages/editProfile.js","original":{"line":1,"column":0},"generated":{"line":1,"column":117}},{"source":"views/pages/editProfile.js","original":{"line":2,"column":0},"generated":{"line":1,"column":133}},{"source":"views/pages/editProfile.js","original":{"line":2,"column":0},"generated":{"line":1,"column":135}},{"source":"views/pages/editProfile.js","original":{"line":2,"column":0},"generated":{"line":1,"column":143}},{"source":"views/pages/editProfile.js","original":{"line":3,"column":0},"generated":{"line":1,"column":155}},{"source":"views/pages/editProfile.js","original":{"line":3,"column":0},"generated":{"line":1,"column":157}},{"source":"views/pages/editProfile.js","original":{"line":3,"column":0},"generated":{"line":1,"column":165}},{"source":"views/pages/editProfile.js","original":{"line":4,"column":0},"generated":{"line":1,"column":183}},{"source":"views/pages/editProfile.js","original":{"line":4,"column":0},"generated":{"line":1,"column":185}},{"source":"views/pages/editProfile.js","original":{"line":4,"column":0},"generated":{"line":1,"column":187}},{"source":"views/pages/editProfile.js","original":{"line":4,"column":0},"generated":{"line":1,"column":195}},{"source":"views/pages/editProfile.js","original":{"line":5,"column":0},"generated":{"line":1,"column":212}},{"source":"views/pages/editProfile.js","original":{"line":5,"column":0},"generated":{"line":1,"column":214}},{"source":"views/pages/editProfile.js","original":{"line":5,"column":0},"generated":{"line":1,"column":216}},{"source":"views/pages/editProfile.js","original":{"line":5,"column":0},"generated":{"line":1,"column":224}},{"source":"views/pages/editProfile.js","original":{"line":6,"column":0},"generated":{"line":1,"column":242}},{"source":"views/pages/editProfile.js","original":{"line":6,"column":0},"generated":{"line":1,"column":244}},{"source":"views/pages/editProfile.js","original":{"line":6,"column":0},"generated":{"line":1,"column":246}},{"source":"views/pages/editProfile.js","original":{"line":6,"column":0},"generated":{"line":1,"column":254}},{"source":"views/pages/editProfile.js","original":{"line":7,"column":0},"generated":{"line":1,"column":274}},{"source":"views/pages/editProfile.js","original":{"line":7,"column":0},"generated":{"line":1,"column":276}},{"source":"views/pages/editProfile.js","original":{"line":7,"column":0},"generated":{"line":1,"column":278}},{"source":"views/pages/editProfile.js","original":{"line":7,"column":0},"generated":{"line":1,"column":286}},{"source":"views/pages/editProfile.js","original":{"line":8,"column":0},"generated":{"line":1,"column":302}},{"source":"views/pages/editProfile.js","original":{"line":8,"column":0},"generated":{"line":1,"column":304}},{"source":"views/pages/editProfile.js","original":{"line":8,"column":0},"generated":{"line":1,"column":306}},{"source":"views/pages/editProfile.js","original":{"line":8,"column":0},"generated":{"line":1,"column":314}},{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":325}},{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":334}},{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":336}},{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":339}},{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":346}},{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":349}},{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":351}},{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":362}},{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":364}},{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":365}},{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":373}},{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":376}},{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":385}},{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":387}},{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":389}},{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":392}},{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":399}},{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":403}},{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":405}},{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":407}},{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":413}},{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":417}},{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":424}},{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":431}},{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":438}},{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":455}},{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":457}},{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":458}},{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":462}},{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":463}},{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":469}},{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":476}},{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":483}},{"source":"views/pages/editProfile.js","original":{"line":10,"column":0},"generated":{"line":1,"column":490}},{"source":"views/pages/editProfile.js","name":"EditProfileView","original":{"line":10,"column":6},"generated":{"line":1,"column":496}},{"source":"views/pages/editProfile.js","name":"init","original":{"line":11,"column":2},"generated":{"line":1,"column":498}},{"source":"views/pages/editProfile.js","name":"console","original":{"line":12,"column":4},"generated":{"line":1,"column":505}},{"source":"views/pages/editProfile.js","name":"log","original":{"line":12,"column":12},"generated":{"line":1,"column":513}},{"source":"views/pages/editProfile.js","original":{"line":12,"column":16},"generated":{"line":1,"column":517}},{"source":"views/pages/editProfile.js","name":"document","original":{"line":13,"column":4},"generated":{"line":1,"column":541}},{"source":"views/pages/editProfile.js","name":"title","original":{"line":13,"column":13},"generated":{"line":1,"column":550}},{"source":"views/pages/editProfile.js","original":{"line":13,"column":21},"generated":{"line":1,"column":556}},{"source":"views/pages/editProfile.js","name":"user","original":{"line":14,"column":9},"generated":{"line":1,"column":571}},{"source":"views/pages/editProfile.js","name":"user","original":{"line":14,"column":9},"generated":{"line":1,"column":576}},{"source":"views/pages/editProfile.js","original":{"line":14,"column":16},"generated":{"line":1,"column":581}},{"source":"views/pages/editProfile.js","name":"render","original":{"line":15,"column":9},"generated":{"line":1,"column":586}},{"source":"views/pages/editProfile.js","name":"render","original":{"line":15,"column":9},"generated":{"line":1,"column":591}},{"source":"views/pages/editProfile.js","name":"pageIntroAnim","original":{"line":16,"column":10},"generated":{"line":1,"column":600}},{"source":"views/pages/editProfile.js","name":"pageIntroAnim","original":{"line":16,"column":10},"generated":{"line":1,"column":602}},{"source":"views/pages/editProfile.js","name":"pageIntroAnim","original":{"line":16,"column":10},"generated":{"line":1,"column":610}},{"source":"views/pages/editProfile.js","name":"getUser","original":{"line":17,"column":9},"generated":{"line":1,"column":626}},{"source":"views/pages/editProfile.js","name":"getUser","original":{"line":17,"column":9},"generated":{"line":1,"column":631}},{"source":"views/pages/editProfile.js","name":"getUser","original":{"line":20,"column":8},"generated":{"line":1,"column":641}},{"source":"views/pages/editProfile.js","original":{"line":21,"column":8},"generated":{"line":1,"column":657}},{"source":"views/pages/editProfile.js","name":"user","original":{"line":22,"column":11},"generated":{"line":1,"column":661}},{"source":"views/pages/editProfile.js","name":"user","original":{"line":22,"column":11},"generated":{"line":1,"column":666}},{"source":"views/pages/editProfile.js","name":"UserAPI","original":{"line":22,"column":24},"generated":{"line":1,"column":677}},{"source":"views/pages/editProfile.js","name":"getUser","original":{"line":22,"column":32},"generated":{"line":1,"column":679}},{"source":"views/pages/editProfile.js","name":"getUser","original":{"line":22,"column":32},"generated":{"line":1,"column":687}},{"source":"views/pages/editProfile.js","name":"Auth","original":{"line":22,"column":40},"generated":{"line":1,"column":695}},{"source":"views/pages/editProfile.js","name":"currentUser","original":{"line":22,"column":45},"generated":{"line":1,"column":697}},{"source":"views/pages/editProfile.js","name":"currentUser","original":{"line":22,"column":45},"generated":{"line":1,"column":705}},{"source":"views/pages/editProfile.js","name":"_id","original":{"line":22,"column":57},"generated":{"line":1,"column":717}},{"source":"views/pages/editProfile.js","name":"render","original":{"line":23,"column":11},"generated":{"line":1,"column":722}},{"source":"views/pages/editProfile.js","name":"render","original":{"line":23,"column":11},"generated":{"line":1,"column":727}},{"source":"views/pages/editProfile.js","original":{"line":24,"column":5},"generated":{"line":1,"column":736}},{"source":"views/pages/editProfile.js","name":"err","original":{"line":24,"column":11},"generated":{"line":1,"column":742}},{"source":"views/pages/editProfile.js","name":"show","original":{"line":25,"column":12},"generated":{"line":1,"column":745}},{"source":"views/pages/editProfile.js","name":"show","original":{"line":25,"column":12},"generated":{"line":1,"column":747}},{"source":"views/pages/editProfile.js","name":"show","original":{"line":25,"column":12},"generated":{"line":1,"column":755}},{"source":"views/pages/editProfile.js","name":"err","original":{"line":25,"column":17},"generated":{"line":1,"column":760}},{"source":"views/pages/editProfile.js","original":{"line":25,"column":22},"generated":{"line":1,"column":762}},{"source":"views/pages/editProfile.js","name":"updateProfileSubmitHandler","original":{"line":29,"column":8},"generated":{"line":1,"column":772}},{"source":"views/pages/editProfile.js","name":"e","original":{"line":29,"column":35},"generated":{"line":1,"column":805}},{"source":"views/pages/editProfile.js","name":"e","original":{"line":30,"column":4},"generated":{"line":1,"column":808}},{"source":"views/pages/editProfile.js","name":"preventDefault","original":{"line":30,"column":6},"generated":{"line":1,"column":810}},{"source":"views/pages/editProfile.js","name":"formData","original":{"line":31,"column":10},"generated":{"line":1,"column":827}},{"source":"views/pages/editProfile.js","name":"formData","original":{"line":31,"column":10},"generated":{"line":1,"column":833}},{"source":"views/pages/editProfile.js","name":"e","original":{"line":31,"column":21},"generated":{"line":1,"column":835}},{"source":"views/pages/editProfile.js","name":"detail","original":{"line":31,"column":23},"generated":{"line":1,"column":837}},{"source":"views/pages/editProfile.js","name":"formData","original":{"line":31,"column":30},"generated":{"line":1,"column":844}},{"source":"views/pages/editProfile.js","name":"submitBtn","original":{"line":32,"column":10},"generated":{"line":1,"column":853}},{"source":"views/pages/editProfile.js","name":"document","original":{"line":32,"column":22},"generated":{"line":1,"column":855}},{"source":"views/pages/editProfile.js","name":"querySelector","original":{"line":32,"column":31},"generated":{"line":1,"column":864}},{"source":"views/pages/editProfile.js","original":{"line":32,"column":45},"generated":{"line":1,"column":878}},{"source":"views/pages/editProfile.js","name":"submitBtn","original":{"line":33,"column":4},"generated":{"line":1,"column":893}},{"source":"views/pages/editProfile.js","name":"setAttribute","original":{"line":33,"column":14},"generated":{"line":1,"column":895}},{"source":"views/pages/editProfile.js","original":{"line":33,"column":27},"generated":{"line":1,"column":908}},{"source":"views/pages/editProfile.js","original":{"line":33,"column":38},"generated":{"line":1,"column":918}},{"source":"views/pages/editProfile.js","original":{"line":34,"column":8},"generated":{"line":1,"column":922}},{"source":"views/pages/editProfile.js","name":"updatedUser","original":{"line":35,"column":12},"generated":{"line":1,"column":926}},{"source":"views/pages/editProfile.js","name":"updatedUser","original":{"line":35,"column":12},"generated":{"line":1,"column":932}},{"source":"views/pages/editProfile.js","name":"UserAPI","original":{"line":35,"column":32},"generated":{"line":1,"column":940}},{"source":"views/pages/editProfile.js","name":"updateUser","original":{"line":35,"column":40},"generated":{"line":1,"column":942}},{"source":"views/pages/editProfile.js","name":"updateUser","original":{"line":35,"column":40},"generated":{"line":1,"column":950}},{"source":"views/pages/editProfile.js","name":"Auth","original":{"line":35,"column":51},"generated":{"line":1,"column":961}},{"source":"views/pages/editProfile.js","name":"currentUser","original":{"line":35,"column":56},"generated":{"line":1,"column":963}},{"source":"views/pages/editProfile.js","name":"currentUser","original":{"line":35,"column":56},"generated":{"line":1,"column":971}},{"source":"views/pages/editProfile.js","name":"_id","original":{"line":35,"column":68},"generated":{"line":1,"column":983}},{"source":"views/pages/editProfile.js","name":"formData","original":{"line":35,"column":73},"generated":{"line":1,"column":987}},{"source":"views/pages/editProfile.js","name":"updatedUser","original":{"line":36,"column":13},"generated":{"line":1,"column":997}},{"source":"views/pages/editProfile.js","name":"password","original":{"line":36,"column":25},"generated":{"line":1,"column":999}},{"source":"views/pages/editProfile.js","name":"user","original":{"line":37,"column":11},"generated":{"line":1,"column":1008}},{"source":"views/pages/editProfile.js","name":"user","original":{"line":37,"column":11},"generated":{"line":1,"column":1013}},{"source":"views/pages/editProfile.js","name":"updatedUser","original":{"line":37,"column":18},"generated":{"line":1,"column":1018}},{"source":"views/pages/editProfile.js","name":"currentUser","original":{"line":38,"column":11},"generated":{"line":1,"column":1020}},{"source":"views/pages/editProfile.js","name":"currentUser","original":{"line":38,"column":11},"generated":{"line":1,"column":1022}},{"source":"views/pages/editProfile.js","name":"currentUser","original":{"line":38,"column":11},"generated":{"line":1,"column":1030}},{"source":"views/pages/editProfile.js","name":"updatedUser","original":{"line":38,"column":25},"generated":{"line":1,"column":1042}},{"source":"views/pages/editProfile.js","name":"render","original":{"line":39,"column":11},"generated":{"line":1,"column":1044}},{"source":"views/pages/editProfile.js","name":"render","original":{"line":39,"column":11},"generated":{"line":1,"column":1049}},{"source":"views/pages/editProfile.js","name":"show","original":{"line":40,"column":12},"generated":{"line":1,"column":1058}},{"source":"views/pages/editProfile.js","name":"show","original":{"line":40,"column":12},"generated":{"line":1,"column":1060}},{"source":"views/pages/editProfile.js","name":"show","original":{"line":40,"column":12},"generated":{"line":1,"column":1068}},{"source":"views/pages/editProfile.js","original":{"line":40,"column":17},"generated":{"line":1,"column":1073}},{"source":"views/pages/editProfile.js","original":{"line":41,"column":5},"generated":{"line":1,"column":1092}},{"source":"views/pages/editProfile.js","name":"err","original":{"line":41,"column":11},"generated":{"line":1,"column":1098}},{"source":"views/pages/editProfile.js","name":"show","original":{"line":42,"column":12},"generated":{"line":1,"column":1101}},{"source":"views/pages/editProfile.js","name":"show","original":{"line":42,"column":12},"generated":{"line":1,"column":1103}},{"source":"views/pages/editProfile.js","name":"show","original":{"line":42,"column":12},"generated":{"line":1,"column":1111}},{"source":"views/pages/editProfile.js","name":"err","original":{"line":42,"column":17},"generated":{"line":1,"column":1116}},{"source":"views/pages/editProfile.js","original":{"line":42,"column":22},"generated":{"line":1,"column":1118}},{"source":"views/pages/editProfile.js","name":"submitBtn","original":{"line":44,"column":4},"generated":{"line":1,"column":1127}},{"source":"views/pages/editProfile.js","name":"removeAttribute","original":{"line":44,"column":14},"generated":{"line":1,"column":1129}},{"source":"views/pages/editProfile.js","original":{"line":44,"column":30},"generated":{"line":1,"column":1145}},{"source":"views/pages/editProfile.js","name":"render","original":{"line":47,"column":2},"generated":{"line":1,"column":1156}},{"source":"views/pages/editProfile.js","name":"template","original":{"line":48,"column":10},"generated":{"line":1,"column":1165}},{"source":"views/pages/editProfile.js","name":"template","original":{"line":48,"column":10},"generated":{"line":1,"column":1171}},{"source":"views/pages/editProfile.js","name":"html","original":{"line":48,"column":21},"generated":{"line":1,"column":1174}},{"source":"views/pages/editProfile.js","name":"html","original":{"line":48,"column":21},"generated":{"line":1,"column":1176}},{"source":"views/pages/editProfile.js","original":{"line":48,"column":18},"generated":{"line":1,"column":1178}},{"source":"views/pages/editProfile.js","name":"JSON","original":{"line":49,"column":28},"generated":{"line":1,"column":1184}},{"source":"views/pages/editProfile.js","name":"JSON","original":{"line":49,"column":28},"generated":{"line":1,"column":1188}},{"source":"views/pages/editProfile.js","name":"JSON","original":{"line":49,"column":28},"generated":{"line":1,"column":1190}},{"source":"views/pages/editProfile.js","name":"JSON","original":{"line":49,"column":28},"generated":{"line":1,"column":1192}},{"source":"views/pages/editProfile.js","name":"JSON","original":{"line":49,"column":28},"generated":{"line":1,"column":1193}},{"source":"views/pages/editProfile.js","name":"JSON","original":{"line":49,"column":28},"generated":{"line":1,"column":1224}},{"source":"views/pages/editProfile.js","name":"JSON","original":{"line":49,"column":28},"generated":{"line":1,"column":1296}},{"source":"views/pages/editProfile.js","name":"JSON","original":{"line":49,"column":28},"generated":{"line":1,"column":1322}},{"source":"views/pages/editProfile.js","name":"stringify","original":{"line":49,"column":33},"generated":{"line":1,"column":1327}},{"source":"views/pages/editProfile.js","name":"Auth","original":{"line":49,"column":43},"generated":{"line":1,"column":1337}},{"source":"views/pages/editProfile.js","name":"currentUser","original":{"line":49,"column":48},"generated":{"line":1,"column":1339}},{"source":"views/pages/editProfile.js","name":"currentUser","original":{"line":49,"column":48},"generated":{"line":1,"column":1347}},{"source":"views/pages/editProfile.js","original":{"line":51,"column":24},"generated":{"line":1,"column":1360}},{"source":"views/pages/editProfile.js","original":{"line":51,"column":11},"generated":{"line":1,"column":1366}},{"source":"views/pages/editProfile.js","name":"user","original":{"line":51,"column":16},"generated":{"line":1,"column":1371}},{"source":"views/pages/editProfile.js","name":"html","original":{"line":51,"column":32},"generated":{"line":1,"column":1377}},{"source":"views/pages/editProfile.js","name":"html","original":{"line":51,"column":32},"generated":{"line":1,"column":1379}},{"source":"views/pages/editProfile.js","original":{"line":51,"column":10},"generated":{"line":1,"column":1381}},{"source":"views/pages/editProfile.js","name":"html","original":{"line":53,"column":10},"generated":{"line":1,"column":1387}},{"source":"views/pages/editProfile.js","name":"html","original":{"line":53,"column":10},"generated":{"line":1,"column":1391}},{"source":"views/pages/editProfile.js","name":"html","original":{"line":53,"column":10},"generated":{"line":1,"column":1393}},{"source":"views/pages/editProfile.js","name":"html","original":{"line":53,"column":10},"generated":{"line":1,"column":1395}},{"source":"views/pages/editProfile.js","name":"html","original":{"line":53,"column":10},"generated":{"line":1,"column":1396}},{"source":"views/pages/editProfile.js","name":"html","original":{"line":53,"column":10},"generated":{"line":1,"column":1451}},{"source":"views/pages/editProfile.js","name":"html","original":{"line":53,"column":10},"generated":{"line":1,"column":1453}},{"source":"views/pages/editProfile.js","original":{"line":51,"column":10},"generated":{"line":1,"column":1455}},{"source":"views/pages/editProfile.js","original":{"line":54,"column":24},"generated":{"line":1,"column":1461}},{"source":"views/pages/editProfile.js","original":{"line":54,"column":24},"generated":{"line":1,"column":1465}},{"source":"views/pages/editProfile.js","original":{"line":54,"column":24},"generated":{"line":1,"column":1467}},{"source":"views/pages/editProfile.js","original":{"line":54,"column":24},"generated":{"line":1,"column":1469}},{"source":"views/pages/editProfile.js","original":{"line":54,"column":24},"generated":{"line":1,"column":1470}},{"source":"views/pages/editProfile.js","original":{"line":54,"column":24},"generated":{"line":1,"column":1497}},{"source":"views/pages/editProfile.js","original":{"line":54,"column":24},"generated":{"line":1,"column":1554}},{"source":"views/pages/editProfile.js","original":{"line":54,"column":24},"generated":{"line":1,"column":1659}},{"source":"views/pages/editProfile.js","original":{"line":54,"column":24},"generated":{"line":1,"column":1820}},{"source":"views/pages/editProfile.js","original":{"line":54,"column":24},"generated":{"line":1,"column":1977}},{"source":"views/pages/editProfile.js","original":{"line":54,"column":24},"generated":{"line":1,"column":2155}},{"source":"views/pages/editProfile.js","original":{"line":54,"column":24},"generated":{"line":1,"column":2303}},{"source":"views/pages/editProfile.js","original":{"line":54,"column":24},"generated":{"line":1,"column":2454}},{"source":"views/pages/editProfile.js","name":"Auth","original":{"line":54,"column":31},"generated":{"line":1,"column":2456}},{"source":"views/pages/editProfile.js","name":"Auth","original":{"line":54,"column":31},"generated":{"line":1,"column":2458}},{"source":"views/pages/editProfile.js","name":"Auth","original":{"line":54,"column":31},"generated":{"line":1,"column":2467}},{"source":"views/pages/editProfile.js","name":"currentUser","original":{"line":54,"column":36},"generated":{"line":1,"column":2469}},{"source":"views/pages/editProfile.js","name":"currentUser","original":{"line":54,"column":36},"generated":{"line":1,"column":2477}},{"source":"views/pages/editProfile.js","name":"updatedAt","original":{"line":54,"column":48},"generated":{"line":1,"column":2489}},{"source":"views/pages/editProfile.js","name":"format","original":{"line":54,"column":59},"generated":{"line":1,"column":2500}},{"source":"views/pages/editProfile.js","original":{"line":54,"column":66},"generated":{"line":1,"column":2507}},{"source":"views/pages/editProfile.js","original":{"line":55,"column":50},"generated":{"line":1,"column":2533}},{"source":"views/pages/editProfile.js","name":"updateProfileSubmitHandler","original":{"line":55,"column":55},"generated":{"line":1,"column":2538}},{"source":"views/pages/editProfile.js","name":"bind","original":{"line":55,"column":82},"generated":{"line":1,"column":2565}},{"source":"views/pages/editProfile.js","original":{"line":55,"column":87},"generated":{"line":1,"column":2570}},{"source":"views/pages/editProfile.js","original":{"line":57,"column":62},"generated":{"line":1,"column":2576}},{"source":"views/pages/editProfile.js","name":"user","original":{"line":57,"column":67},"generated":{"line":1,"column":2581}},{"source":"views/pages/editProfile.js","name":"firstName","original":{"line":57,"column":72},"generated":{"line":1,"column":2586}},{"source":"views/pages/editProfile.js","original":{"line":60,"column":61},"generated":{"line":1,"column":2596}},{"source":"views/pages/editProfile.js","name":"user","original":{"line":60,"column":66},"generated":{"line":1,"column":2601}},{"source":"views/pages/editProfile.js","name":"lastName","original":{"line":60,"column":71},"generated":{"line":1,"column":2606}},{"source":"views/pages/editProfile.js","original":{"line":63,"column":58},"generated":{"line":1,"column":2615}},{"source":"views/pages/editProfile.js","name":"user","original":{"line":63,"column":63},"generated":{"line":1,"column":2620}},{"source":"views/pages/editProfile.js","name":"email","original":{"line":63,"column":68},"generated":{"line":1,"column":2625}},{"source":"views/pages/editProfile.js","original":{"line":66,"column":74},"generated":{"line":1,"column":2631}},{"source":"views/pages/editProfile.js","name":"user","original":{"line":66,"column":79},"generated":{"line":1,"column":2636}},{"source":"views/pages/editProfile.js","name":"bio","original":{"line":66,"column":84},"generated":{"line":1,"column":2641}},{"source":"views/pages/editProfile.js","original":{"line":71,"column":17},"generated":{"line":1,"column":2645}},{"source":"views/pages/editProfile.js","name":"user","original":{"line":71,"column":22},"generated":{"line":1,"column":2650}},{"source":"views/pages/editProfile.js","name":"avatar","original":{"line":71,"column":27},"generated":{"line":1,"column":2655}},{"source":"views/pages/editProfile.js","name":"html","original":{"line":71,"column":37},"generated":{"line":1,"column":2663}},{"source":"views/pages/editProfile.js","name":"html","original":{"line":71,"column":37},"generated":{"line":1,"column":2665}},{"source":"views/pages/editProfile.js","original":{"line":71,"column":16},"generated":{"line":1,"column":2667}},{"source":"views/pages/editProfile.js","name":"App","original":{"line":72,"column":36},"generated":{"line":1,"column":2673}},{"source":"views/pages/editProfile.js","name":"App","original":{"line":72,"column":36},"generated":{"line":1,"column":2677}},{"source":"views/pages/editProfile.js","name":"App","original":{"line":72,"column":36},"generated":{"line":1,"column":2679}},{"source":"views/pages/editProfile.js","name":"App","original":{"line":72,"column":36},"generated":{"line":1,"column":2681}},{"source":"views/pages/editProfile.js","name":"App","original":{"line":72,"column":36},"generated":{"line":1,"column":2682}},{"source":"views/pages/editProfile.js","name":"App","original":{"line":72,"column":36},"generated":{"line":1,"column":2721}},{"source":"views/pages/editProfile.js","name":"App","original":{"line":72,"column":36},"generated":{"line":1,"column":2732}},{"source":"views/pages/editProfile.js","name":"App","original":{"line":72,"column":36},"generated":{"line":1,"column":2821}},{"source":"views/pages/editProfile.js","name":"apiBase","original":{"line":72,"column":40},"generated":{"line":1,"column":2823}},{"source":"views/pages/editProfile.js","name":"apiBase","original":{"line":72,"column":40},"generated":{"line":1,"column":2831}},{"source":"views/pages/editProfile.js","original":{"line":72,"column":58},"generated":{"line":1,"column":2839}},{"source":"views/pages/editProfile.js","name":"user","original":{"line":72,"column":63},"generated":{"line":1,"column":2844}},{"source":"views/pages/editProfile.js","name":"avatar","original":{"line":72,"column":68},"generated":{"line":1,"column":2849}},{"source":"views/pages/editProfile.js","name":"html","original":{"line":74,"column":17},"generated":{"line":1,"column":2858}},{"source":"views/pages/editProfile.js","name":"html","original":{"line":74,"column":17},"generated":{"line":1,"column":2860}},{"source":"views/pages/editProfile.js","original":{"line":71,"column":16},"generated":{"line":1,"column":2862}},{"source":"views/pages/editProfile.js","original":{"line":51,"column":10},"generated":{"line":1,"column":2868}},{"source":"views/pages/editProfile.js","original":{"line":51,"column":10},"generated":{"line":1,"column":2872}},{"source":"views/pages/editProfile.js","original":{"line":51,"column":10},"generated":{"line":1,"column":2874}},{"source":"views/pages/editProfile.js","original":{"line":51,"column":10},"generated":{"line":1,"column":2876}},{"source":"views/pages/editProfile.js","original":{"line":51,"column":10},"generated":{"line":1,"column":2877}},{"source":"views/pages/editProfile.js","name":"template","original":{"line":83,"column":11},"generated":{"line":1,"column":2956}},{"source":"views/pages/editProfile.js","name":"template","original":{"line":83,"column":11},"generated":{"line":1,"column":2958}},{"source":"views/pages/editProfile.js","name":"template","original":{"line":83,"column":11},"generated":{"line":1,"column":2960}},{"source":"views/pages/editProfile.js","name":"template","original":{"line":83,"column":11},"generated":{"line":1,"column":2968}},{"source":"views/pages/editProfile.js","name":"App","original":{"line":83,"column":21},"generated":{"line":1,"column":2970}},{"source":"views/pages/editProfile.js","name":"rootEl","original":{"line":83,"column":25},"generated":{"line":1,"column":2972}},{"source":"views/pages/editProfile.js","name":"rootEl","original":{"line":83,"column":25},"generated":{"line":1,"column":2980}},{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":2989}},{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":2993}},{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":2995}},{"source":"views/pages/editProfile.js","name":"EditProfileView","original":{"line":87,"column":19},"generated":{"line":1,"column":2999}},{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":3001}},{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":3009}},{"source":"views/pages/editProfile.js","original":{"line":87,"column":15},"generated":{"line":1,"column":3017}}],"sources":{"views/pages/editProfile.js":"import App from './../../App'\r\nimport {html, render } from 'lit-html'\r\nimport {gotoRoute, anchorRoute} from './../../Router'\r\nimport Auth from './../../Auth'\r\nimport Utils from './../../Utils'\r\nimport UserAPI from './../../UserAPI'\r\nimport Toast from '../../Toast'\r\nimport moment from 'moment'\r\n\r\nclass EditProfileView {\r\n  init(){\r\n    console.log('EditProfileView.init')\r\n    document.title = 'Edit Profile'    \r\n    this.user = null\r\n    this.render()    \r\n    Utils.pageIntroAnim()\r\n    this.getUser()    \r\n  }\r\n\r\n  async getUser(){\r\n    try {\r\n      this.user = await UserAPI.getUser(Auth.currentUser._id)      \r\n      this.render()\r\n    }catch(err){\r\n      Toast.show(err, 'error')\r\n    }\r\n  }\r\n\r\n  async updateProfileSubmitHandler(e){\r\n    e.preventDefault()\r\n    const formData = e.detail.formData\r\n    const submitBtn = document.querySelector('.submit-btn')\r\n    submitBtn.setAttribute('loading', '')\r\n    try {\r\n      const updatedUser = await UserAPI.updateUser(Auth.currentUser._id, formData)      \r\n      delete updatedUser.password        \r\n      this.user = updatedUser     \r\n      Auth.currentUser = updatedUser\r\n      this.render()\r\n      Toast.show('profile updated')\r\n    }catch(err){      \r\n      Toast.show(err, 'error')\r\n    }\r\n    submitBtn.removeAttribute('loading')\r\n  }\r\n\r\n  render(){\r\n    const template = html`\r\n      <td-app-header user=${JSON.stringify(Auth.currentUser)}></td-app-header>\r\n      <div class=\"page-content\">        \r\n        ${(this.user == null) ? html`\r\n          <sl-spinner></sl-spinner>\r\n        `:html`\r\n          <p>Updated: ${moment(Auth.currentUser.updatedAt).format('MMMM Do YYYY, @ h:mm a')}</p>\r\n          <sl-form class=\"page-form\" @sl-submit=${this.updateProfileSubmitHandler.bind(this)}>\r\n            <div class=\"input-group\">\r\n              <sl-input type=\"text\" name=\"firstName\" value=\"${this.user.firstName}\" placeholder=\"First Name\"></sl-input>\r\n            </div>\r\n            <div class=\"input-group\">\r\n              <sl-input type=\"text\" name=\"lastName\" value=\"${this.user.lastName}\" placeholder=\"Last Name\"></sl-input>\r\n            </div>\r\n            <div class=\"input-group\">\r\n              <sl-input type=\"text\" name=\"email\" value=\"${this.user.email}\" placeholder=\"Email Address\"></sl-input>\r\n            </div> \r\n            <div class=\"input-group\">\r\n              <sl-textarea name=\"bio\" rows=\"4\" placeholder=\"Bio\" value=\"${this.user.bio}\"></sl-textarea>\r\n            </div> \r\n\r\n            <div class=\"input-group\">\r\n              <label>Avatar</label><br>          \r\n              ${(this.user.avatar) ? html`\r\n                <sl-avatar image=\"${App.apiBase}/images/${this.user.avatar}\"></sl-avatar>\r\n                <input type=\"file\" name=\"avatar\" />\r\n              `: html`\r\n                <input type=\"file\" name=\"avatar\" />\r\n              `}\r\n            </div>\r\n            <sl-button type=\"primary\" class=\"submit-btn\" submit>Update Profile</sl-button>\r\n          </sl-form>\r\n        `}\r\n      </div>\r\n    `\r\n    render(template, App.rootEl)\r\n  }\r\n}\r\n\r\nexport default new EditProfileView()"},"lineCount":null}},"error":null,"hash":"f821822bbd44c38fbc0d893f64ce9e2f","cacheData":{"env":{}}}