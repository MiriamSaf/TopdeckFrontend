{"id":"Qvwp","dependencies":[{"name":"C:\\Users\\Umm Raheil\\Desktop\\frontend-topdeck-1207\\package.json","includedInParent":true,"mtime":1626931313517},{"name":"./App","loc":{"line":1,"column":16},"parent":"C:\\Users\\Umm Raheil\\Desktop\\frontend-topdeck-1207\\src\\UserAPI.js","resolved":"C:\\Users\\Umm Raheil\\Desktop\\frontend-topdeck-1207\\src\\App.js"},{"name":"./Auth","loc":{"line":2,"column":17},"parent":"C:\\Users\\Umm Raheil\\Desktop\\frontend-topdeck-1207\\src\\UserAPI.js","resolved":"C:\\Users\\Umm Raheil\\Desktop\\frontend-topdeck-1207\\src\\Auth.js"},{"name":"./Toast","loc":{"line":3,"column":18},"parent":"C:\\Users\\Umm Raheil\\Desktop\\frontend-topdeck-1207\\src\\UserAPI.js","resolved":"C:\\Users\\Umm Raheil\\Desktop\\frontend-topdeck-1207\\src\\Toast.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=r(require(\"./App\")),o=r(require(\"./Auth\")),t=r(require(\"./Toast\"));function r(e){return e&&e.__esModule?e:{default:e}}class a{async getUser(o){if(!o)return;const t=await fetch(\"\".concat(e.default.apiBase,\"/user/\").concat(o),{headers:{Authorization:\"Bearer \".concat(localStorage.accessToken)}});if(!t.ok){const e=await t.json();throw e&&console.log(e),new Error(\"Problem getting user\")}return await t.json()}async updateUser(o,t){let r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"form\";if(!o||!t)return;\"form\"==a?r={method:\"PUT\",headers:{Authorization:\"Bearer \".concat(localStorage.accessToken)},body:t}:\"json\"==a&&(r={method:\"PUT\",headers:{Authorization:\"Bearer \".concat(localStorage.accessToken),\"Content-Type\":\"application/json\"},body:JSON.stringify(t)});const n=await fetch(\"\".concat(e.default.apiBase,\"/user/\").concat(o),r);if(!n.ok){const e=await n.json();throw e&&console.log(e),new Error(\"Problem updating user\")}return await n.json()}}var n=new a;exports.default=n;"},"sourceMaps":{"js":{"mappings":[{"source":"UserAPI.js","original":{"line":107,"column":15},"generated":{"line":1,"column":0}},{"source":"UserAPI.js","original":{"line":107,"column":15},"generated":{"line":1,"column":13}},{"source":"UserAPI.js","original":{"line":107,"column":15},"generated":{"line":1,"column":20}},{"source":"UserAPI.js","original":{"line":107,"column":15},"generated":{"line":1,"column":35}},{"source":"UserAPI.js","original":{"line":107,"column":15},"generated":{"line":1,"column":43}},{"source":"UserAPI.js","original":{"line":107,"column":15},"generated":{"line":1,"column":56}},{"source":"UserAPI.js","original":{"line":107,"column":15},"generated":{"line":1,"column":57}},{"source":"UserAPI.js","original":{"line":107,"column":15},"generated":{"line":1,"column":64}},{"source":"UserAPI.js","original":{"line":107,"column":15},"generated":{"line":1,"column":68}},{"source":"UserAPI.js","original":{"line":107,"column":15},"generated":{"line":1,"column":76}},{"source":"UserAPI.js","original":{"line":107,"column":15},"generated":{"line":1,"column":89}},{"source":"UserAPI.js","original":{"line":1,"column":0},"generated":{"line":1,"column":91}},{"source":"UserAPI.js","original":{"line":1,"column":0},"generated":{"line":1,"column":95}},{"source":"UserAPI.js","original":{"line":1,"column":0},"generated":{"line":1,"column":97}},{"source":"UserAPI.js","original":{"line":1,"column":0},"generated":{"line":1,"column":99}},{"source":"UserAPI.js","original":{"line":1,"column":0},"generated":{"line":1,"column":107}},{"source":"UserAPI.js","original":{"line":2,"column":0},"generated":{"line":1,"column":117}},{"source":"UserAPI.js","original":{"line":2,"column":0},"generated":{"line":1,"column":119}},{"source":"UserAPI.js","original":{"line":2,"column":0},"generated":{"line":1,"column":121}},{"source":"UserAPI.js","original":{"line":2,"column":0},"generated":{"line":1,"column":129}},{"source":"UserAPI.js","original":{"line":3,"column":0},"generated":{"line":1,"column":140}},{"source":"UserAPI.js","original":{"line":3,"column":0},"generated":{"line":1,"column":142}},{"source":"UserAPI.js","original":{"line":3,"column":0},"generated":{"line":1,"column":144}},{"source":"UserAPI.js","original":{"line":3,"column":0},"generated":{"line":1,"column":152}},{"source":"UserAPI.js","original":{"line":107,"column":15},"generated":{"line":1,"column":164}},{"source":"UserAPI.js","original":{"line":107,"column":15},"generated":{"line":1,"column":173}},{"source":"UserAPI.js","original":{"line":107,"column":15},"generated":{"line":1,"column":175}},{"source":"UserAPI.js","original":{"line":107,"column":15},"generated":{"line":1,"column":178}},{"source":"UserAPI.js","original":{"line":107,"column":15},"generated":{"line":1,"column":185}},{"source":"UserAPI.js","original":{"line":107,"column":15},"generated":{"line":1,"column":188}},{"source":"UserAPI.js","original":{"line":107,"column":15},"generated":{"line":1,"column":190}},{"source":"UserAPI.js","original":{"line":107,"column":15},"generated":{"line":1,"column":201}},{"source":"UserAPI.js","original":{"line":107,"column":15},"generated":{"line":1,"column":203}},{"source":"UserAPI.js","original":{"line":107,"column":15},"generated":{"line":1,"column":204}},{"source":"UserAPI.js","original":{"line":107,"column":15},"generated":{"line":1,"column":212}},{"source":"UserAPI.js","original":{"line":5,"column":0},"generated":{"line":1,"column":215}},{"source":"UserAPI.js","name":"UserAPI","original":{"line":5,"column":6},"generated":{"line":1,"column":221}},{"source":"UserAPI.js","name":"getUser","original":{"line":35,"column":8},"generated":{"line":1,"column":223}},{"source":"UserAPI.js","name":"userId","original":{"line":35,"column":16},"generated":{"line":1,"column":237}},{"source":"UserAPI.js","original":{"line":37,"column":7},"generated":{"line":1,"column":240}},{"source":"UserAPI.js","name":"userId","original":{"line":37,"column":8},"generated":{"line":1,"column":244}},{"source":"UserAPI.js","original":{"line":37,"column":16},"generated":{"line":1,"column":246}},{"source":"UserAPI.js","name":"response","original":{"line":40,"column":10},"generated":{"line":1,"column":253}},{"source":"UserAPI.js","name":"response","original":{"line":40,"column":10},"generated":{"line":1,"column":259}},{"source":"UserAPI.js","name":"fetch","original":{"line":40,"column":27},"generated":{"line":1,"column":267}},{"source":"UserAPI.js","name":"App","original":{"line":40,"column":36},"generated":{"line":1,"column":273}},{"source":"UserAPI.js","name":"App","original":{"line":40,"column":36},"generated":{"line":1,"column":276}},{"source":"UserAPI.js","name":"App","original":{"line":40,"column":36},"generated":{"line":1,"column":283}},{"source":"UserAPI.js","name":"apiBase","original":{"line":40,"column":40},"generated":{"line":1,"column":285}},{"source":"UserAPI.js","name":"apiBase","original":{"line":40,"column":40},"generated":{"line":1,"column":293}},{"source":"UserAPI.js","name":"userId","original":{"line":40,"column":56},"generated":{"line":1,"column":301}},{"source":"UserAPI.js","name":"userId","original":{"line":40,"column":56},"generated":{"line":1,"column":311}},{"source":"UserAPI.js","name":"userId","original":{"line":40,"column":56},"generated":{"line":1,"column":318}},{"source":"UserAPI.js","original":{"line":40,"column":66},"generated":{"line":1,"column":321}},{"source":"UserAPI.js","name":"headers","original":{"line":41,"column":6},"generated":{"line":1,"column":322}},{"source":"UserAPI.js","original":{"line":41,"column":15},"generated":{"line":1,"column":330}},{"source":"UserAPI.js","name":"localStorage","original":{"line":41,"column":44},"generated":{"line":1,"column":331}},{"source":"UserAPI.js","name":"localStorage","original":{"line":41,"column":44},"generated":{"line":1,"column":345}},{"source":"UserAPI.js","name":"localStorage","original":{"line":41,"column":44},"generated":{"line":1,"column":355}},{"source":"UserAPI.js","name":"localStorage","original":{"line":41,"column":44},"generated":{"line":1,"column":362}},{"source":"UserAPI.js","name":"accessToken","original":{"line":41,"column":57},"generated":{"line":1,"column":375}},{"source":"UserAPI.js","original":{"line":45,"column":7},"generated":{"line":1,"column":391}},{"source":"UserAPI.js","name":"response","original":{"line":45,"column":8},"generated":{"line":1,"column":395}},{"source":"UserAPI.js","name":"ok","original":{"line":45,"column":17},"generated":{"line":1,"column":397}},{"source":"UserAPI.js","original":{"line":45,"column":20},"generated":{"line":1,"column":400}},{"source":"UserAPI.js","name":"err","original":{"line":47,"column":12},"generated":{"line":1,"column":401}},{"source":"UserAPI.js","name":"err","original":{"line":47,"column":12},"generated":{"line":1,"column":407}},{"source":"UserAPI.js","name":"response","original":{"line":47,"column":24},"generated":{"line":1,"column":415}},{"source":"UserAPI.js","name":"json","original":{"line":47,"column":33},"generated":{"line":1,"column":417}},{"source":"UserAPI.js","original":{"line":50,"column":12},"generated":{"line":1,"column":424}},{"source":"UserAPI.js","name":"err","original":{"line":48,"column":9},"generated":{"line":1,"column":430}},{"source":"UserAPI.js","name":"console","original":{"line":48,"column":14},"generated":{"line":1,"column":433}},{"source":"UserAPI.js","name":"log","original":{"line":48,"column":22},"generated":{"line":1,"column":441}},{"source":"UserAPI.js","name":"err","original":{"line":48,"column":26},"generated":{"line":1,"column":445}},{"source":"UserAPI.js","original":{"line":50,"column":12},"generated":{"line":1,"column":448}},{"source":"UserAPI.js","name":"Error","original":{"line":50,"column":16},"generated":{"line":1,"column":452}},{"source":"UserAPI.js","original":{"line":50,"column":22},"generated":{"line":1,"column":458}},{"source":"UserAPI.js","name":"data","original":{"line":57,"column":11},"generated":{"line":1,"column":482}},{"source":"UserAPI.js","name":"response","original":{"line":54,"column":23},"generated":{"line":1,"column":495}},{"source":"UserAPI.js","name":"json","original":{"line":54,"column":32},"generated":{"line":1,"column":497}},{"source":"UserAPI.js","name":"updateUser","original":{"line":62,"column":8},"generated":{"line":1,"column":504}},{"source":"UserAPI.js","name":"userId","original":{"line":62,"column":19},"generated":{"line":1,"column":521}},{"source":"UserAPI.js","name":"userData","original":{"line":62,"column":27},"generated":{"line":1,"column":523}},{"source":"UserAPI.js","name":"dataType","original":{"line":62,"column":37},"generated":{"line":1,"column":526}},{"source":"UserAPI.js","name":"responseHeader","original":{"line":66,"column":8},"generated":{"line":1,"column":530}},{"source":"UserAPI.js","name":"dataType","original":{"line":62,"column":37},"generated":{"line":1,"column":532}},{"source":"UserAPI.js","original":{"line":62,"column":48},"generated":{"line":1,"column":534}},{"source":"UserAPI.js","original":{"line":62,"column":48},"generated":{"line":1,"column":544}},{"source":"UserAPI.js","original":{"line":62,"column":48},"generated":{"line":1,"column":551}},{"source":"UserAPI.js","original":{"line":62,"column":48},"generated":{"line":1,"column":559}},{"source":"UserAPI.js","original":{"line":62,"column":48},"generated":{"line":1,"column":563}},{"source":"UserAPI.js","original":{"line":62,"column":48},"generated":{"line":1,"column":573}},{"source":"UserAPI.js","original":{"line":62,"column":48},"generated":{"line":1,"column":576}},{"source":"UserAPI.js","original":{"line":62,"column":48},"generated":{"line":1,"column":586}},{"source":"UserAPI.js","original":{"line":62,"column":48},"generated":{"line":1,"column":589}},{"source":"UserAPI.js","original":{"line":64,"column":7},"generated":{"line":1,"column":596}},{"source":"UserAPI.js","name":"userId","original":{"line":64,"column":8},"generated":{"line":1,"column":600}},{"source":"UserAPI.js","name":"userData","original":{"line":64,"column":19},"generated":{"line":1,"column":604}},{"source":"UserAPI.js","original":{"line":64,"column":29},"generated":{"line":1,"column":606}},{"source":"UserAPI.js","original":{"line":69,"column":19},"generated":{"line":1,"column":613}},{"source":"UserAPI.js","name":"dataType","original":{"line":69,"column":7},"generated":{"line":1,"column":621}},{"source":"UserAPI.js","name":"responseHeader","original":{"line":71,"column":6},"generated":{"line":1,"column":623}},{"source":"UserAPI.js","original":{"line":71,"column":23},"generated":{"line":1,"column":625}},{"source":"UserAPI.js","name":"method","original":{"line":72,"column":8},"generated":{"line":1,"column":626}},{"source":"UserAPI.js","original":{"line":72,"column":16},"generated":{"line":1,"column":633}},{"source":"UserAPI.js","name":"headers","original":{"line":73,"column":8},"generated":{"line":1,"column":639}},{"source":"UserAPI.js","original":{"line":73,"column":17},"generated":{"line":1,"column":647}},{"source":"UserAPI.js","name":"localStorage","original":{"line":73,"column":46},"generated":{"line":1,"column":648}},{"source":"UserAPI.js","name":"localStorage","original":{"line":73,"column":46},"generated":{"line":1,"column":662}},{"source":"UserAPI.js","name":"localStorage","original":{"line":73,"column":46},"generated":{"line":1,"column":672}},{"source":"UserAPI.js","name":"localStorage","original":{"line":73,"column":46},"generated":{"line":1,"column":679}},{"source":"UserAPI.js","name":"accessToken","original":{"line":73,"column":59},"generated":{"line":1,"column":692}},{"source":"UserAPI.js","name":"body","original":{"line":74,"column":8},"generated":{"line":1,"column":706}},{"source":"UserAPI.js","name":"userData","original":{"line":74,"column":14},"generated":{"line":1,"column":711}},{"source":"UserAPI.js","original":{"line":78,"column":25},"generated":{"line":1,"column":714}},{"source":"UserAPI.js","name":"dataType","original":{"line":78,"column":13},"generated":{"line":1,"column":722}},{"source":"UserAPI.js","name":"responseHeader","original":{"line":79,"column":6},"generated":{"line":1,"column":726}},{"source":"UserAPI.js","original":{"line":79,"column":23},"generated":{"line":1,"column":728}},{"source":"UserAPI.js","name":"method","original":{"line":80,"column":8},"generated":{"line":1,"column":729}},{"source":"UserAPI.js","original":{"line":80,"column":16},"generated":{"line":1,"column":736}},{"source":"UserAPI.js","name":"headers","original":{"line":81,"column":8},"generated":{"line":1,"column":742}},{"source":"UserAPI.js","original":{"line":81,"column":17},"generated":{"line":1,"column":750}},{"source":"UserAPI.js","name":"localStorage","original":{"line":81,"column":46},"generated":{"line":1,"column":751}},{"source":"UserAPI.js","name":"localStorage","original":{"line":81,"column":46},"generated":{"line":1,"column":765}},{"source":"UserAPI.js","name":"localStorage","original":{"line":81,"column":46},"generated":{"line":1,"column":775}},{"source":"UserAPI.js","name":"localStorage","original":{"line":81,"column":46},"generated":{"line":1,"column":782}},{"source":"UserAPI.js","name":"accessToken","original":{"line":81,"column":59},"generated":{"line":1,"column":795}},{"source":"UserAPI.js","original":{"line":81,"column":91},"generated":{"line":1,"column":808}},{"source":"UserAPI.js","original":{"line":81,"column":91},"generated":{"line":1,"column":823}},{"source":"UserAPI.js","name":"body","original":{"line":82,"column":8},"generated":{"line":1,"column":843}},{"source":"UserAPI.js","name":"JSON","original":{"line":82,"column":14},"generated":{"line":1,"column":848}},{"source":"UserAPI.js","name":"stringify","original":{"line":82,"column":19},"generated":{"line":1,"column":853}},{"source":"UserAPI.js","name":"userData","original":{"line":82,"column":29},"generated":{"line":1,"column":863}},{"source":"UserAPI.js","name":"response","original":{"line":87,"column":10},"generated":{"line":1,"column":868}},{"source":"UserAPI.js","name":"response","original":{"line":87,"column":10},"generated":{"line":1,"column":874}},{"source":"UserAPI.js","name":"fetch","original":{"line":87,"column":27},"generated":{"line":1,"column":882}},{"source":"UserAPI.js","name":"App","original":{"line":87,"column":36},"generated":{"line":1,"column":888}},{"source":"UserAPI.js","name":"App","original":{"line":87,"column":36},"generated":{"line":1,"column":891}},{"source":"UserAPI.js","name":"App","original":{"line":87,"column":36},"generated":{"line":1,"column":898}},{"source":"UserAPI.js","name":"apiBase","original":{"line":87,"column":40},"generated":{"line":1,"column":900}},{"source":"UserAPI.js","name":"apiBase","original":{"line":87,"column":40},"generated":{"line":1,"column":908}},{"source":"UserAPI.js","name":"userId","original":{"line":87,"column":56},"generated":{"line":1,"column":916}},{"source":"UserAPI.js","name":"userId","original":{"line":87,"column":56},"generated":{"line":1,"column":926}},{"source":"UserAPI.js","name":"userId","original":{"line":87,"column":56},"generated":{"line":1,"column":933}},{"source":"UserAPI.js","name":"responseHeader","original":{"line":87,"column":66},"generated":{"line":1,"column":936}},{"source":"UserAPI.js","original":{"line":90,"column":7},"generated":{"line":1,"column":939}},{"source":"UserAPI.js","name":"response","original":{"line":90,"column":8},"generated":{"line":1,"column":943}},{"source":"UserAPI.js","name":"ok","original":{"line":90,"column":17},"generated":{"line":1,"column":945}},{"source":"UserAPI.js","original":{"line":90,"column":20},"generated":{"line":1,"column":948}},{"source":"UserAPI.js","name":"err","original":{"line":92,"column":12},"generated":{"line":1,"column":949}},{"source":"UserAPI.js","name":"err","original":{"line":92,"column":12},"generated":{"line":1,"column":955}},{"source":"UserAPI.js","name":"response","original":{"line":92,"column":24},"generated":{"line":1,"column":963}},{"source":"UserAPI.js","name":"json","original":{"line":92,"column":33},"generated":{"line":1,"column":965}},{"source":"UserAPI.js","original":{"line":95,"column":12},"generated":{"line":1,"column":972}},{"source":"UserAPI.js","name":"err","original":{"line":93,"column":9},"generated":{"line":1,"column":978}},{"source":"UserAPI.js","name":"console","original":{"line":93,"column":14},"generated":{"line":1,"column":981}},{"source":"UserAPI.js","name":"log","original":{"line":93,"column":22},"generated":{"line":1,"column":989}},{"source":"UserAPI.js","name":"err","original":{"line":93,"column":26},"generated":{"line":1,"column":993}},{"source":"UserAPI.js","original":{"line":95,"column":12},"generated":{"line":1,"column":996}},{"source":"UserAPI.js","name":"Error","original":{"line":95,"column":16},"generated":{"line":1,"column":1000}},{"source":"UserAPI.js","original":{"line":95,"column":22},"generated":{"line":1,"column":1006}},{"source":"UserAPI.js","name":"data","original":{"line":102,"column":11},"generated":{"line":1,"column":1031}},{"source":"UserAPI.js","name":"response","original":{"line":99,"column":23},"generated":{"line":1,"column":1044}},{"source":"UserAPI.js","name":"json","original":{"line":99,"column":32},"generated":{"line":1,"column":1046}},{"source":"UserAPI.js","original":{"line":107,"column":15},"generated":{"line":1,"column":1054}},{"source":"UserAPI.js","original":{"line":107,"column":15},"generated":{"line":1,"column":1058}},{"source":"UserAPI.js","original":{"line":107,"column":15},"generated":{"line":1,"column":1060}},{"source":"UserAPI.js","name":"UserAPI","original":{"line":107,"column":19},"generated":{"line":1,"column":1064}},{"source":"UserAPI.js","original":{"line":107,"column":15},"generated":{"line":1,"column":1066}},{"source":"UserAPI.js","original":{"line":107,"column":15},"generated":{"line":1,"column":1074}},{"source":"UserAPI.js","original":{"line":107,"column":15},"generated":{"line":1,"column":1082}}],"sources":{"UserAPI.js":"import App from './App'\r\nimport Auth from './Auth'\r\nimport Toast from './Toast'\r\n\r\nclass UserAPI {\r\n   // userData if for a form only\r\n /* \r\n  async updateUser(userId, userData){\r\n    // validate\r\n    if(!userId || !userData) return\r\n    \r\n    // make fetch request to backend\r\n    const response = await fetch(`${App.apiBase}/user/${userId}`, {\r\n      method: \"PUT\",\r\n        headers: { \"Authorization\": `Bearer ${localStorage.accessToken}`},\r\n        body: userData\r\n    })\r\n\r\n    // if response not ok\r\n    if(!response.ok){\r\n      // console log error\r\n      const err = await response.json()\r\n      if(err) console.log(err)\r\n      // throw error (exit this function)      \r\n      throw new Error('Problem updating user')\r\n    }\r\n\r\n    // convert response payload into json - store as data\r\n    const data = await response.json()\r\n    \r\n    // return data\r\n    return data\r\n  } */\r\n\r\n  async getUser(userId){\r\n    // validate\r\n    if(!userId) return\r\n    \r\n    // fetch the json data\r\n    const response = await fetch(`${App.apiBase}/user/${userId}`, {\r\n      headers: { \"Authorization\": `Bearer ${localStorage.accessToken}`}\r\n    })\r\n\r\n    // if response not ok\r\n    if(!response.ok){ \r\n      // console log error\r\n      const err = await response.json()\r\n      if(err) console.log(err)\r\n      // throw error (exit this function)      \r\n      throw new Error('Problem getting user')\r\n    }\r\n    \r\n    // convert response payload into json - store as data\r\n    const data = await response.json()\r\n    \r\n    // return data\r\n    return data\r\n  }\r\n\r\n  \r\n  //Insert code 8a paste 2 = for both form data and json data\r\n  async updateUser(userId, userData, dataType = 'form'){\r\n    // validate\r\n    if(!userId || !userData) return\r\n    \r\n    let responseHeader\r\n    \r\n    // form data\r\n    if(dataType == 'form'){\r\n      // fetch response header normal (form data)\r\n      responseHeader = {\r\n        method: \"PUT\",        \r\n        headers: { \"Authorization\": `Bearer ${localStorage.accessToken}`},\r\n        body: userData\r\n      }\r\n      \r\n    // json data\r\n    }else if(dataType == 'json'){\r\n      responseHeader = {\r\n        method: \"PUT\",        \r\n        headers: { \"Authorization\": `Bearer ${localStorage.accessToken}`, \"Content-Type\" : \"application/json\"},\r\n        body: JSON.stringify(userData)\r\n      }\r\n    }\r\n  \r\n    // make fetch request to backend\r\n    const response = await fetch(`${App.apiBase}/user/${userId}`, responseHeader)\r\n  \r\n    // if response not ok\r\n    if(!response.ok){\r\n      // console log error\r\n      const err = await response.json()\r\n      if(err) console.log(err)\r\n      // throw error (exit this function)      \r\n      throw new Error('Problem updating user')\r\n    }\r\n  \r\n    // convert response payload into json - store as data\r\n    const data = await response.json()\r\n    \r\n    // return data\r\n    return data\r\n  }\r\n\r\n}\r\n\r\nexport default new UserAPI()"},"lineCount":null}},"error":null,"hash":"214d618294004cbece32e3e394b48aeb","cacheData":{"env":{}}}